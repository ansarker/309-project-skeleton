<!DOCTYPE html5>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Form!</title>
    <!-- General META -->
    <meta charset="utf-8">
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">

    <style>
      input[type='text'] {
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        outline: none;
        border: 1px solid #eee;
        border-radius: 3px;
        font-size: 14px;
      }
      button[type='submit'] {
        width: 300px;
        padding: 10px;
        border: none;
        color: #ffffff;
        font-size: 18px;
        background: linear-gradient(#3fcee0, #30a5b5);
        border-radius: 3px;
        cursor: pointer;
        outline: none;
      }
      button[type='submit']:hover {
        background: linear-gradient(#18f5b0, #24b59a);
        border: none;
        box-shadow: 0 5px 10px 0px rgba(0, 0, 0,0.5);
      }
    </style>

  </head>
  <body>
    <h2>Online form</h2>
    <input id="username" type="text" placeholder="Username"/>
    <input id="name" type="text" placeholder="Name"/>
    <input id="position" type="text" placeholder="Position"/>
    <input id="Salary" type="text" placeholder="Salary"/>
    <button id="submit" type="submit">Submit</button>
    <br/>
    <div id="error"></div>
  </body>
  <script src="/lib/jquery/dist/jquery.min.js"></script>
  <script src="/vendor/ejs_production.js"></script>
  <script>
  var employee = {};
    $("#username").change(function(event){
      employee.username = $("#username").val();
    });
    $("#name").change(function(event){
      employee.name = $("#name").val();
    });
    $("#position").change(function(event){
      employee.position = $("#position").val();
    });
    $("#salary").change(function(event){
      employee.salary = $("#salary").val();
    });
    $("#submit").click(function(event){
      $.ajax({
        method: 'POST',
        url: '/',
        data: employee
      }).done(function(response){
        console.log(response);
        window.location.replace('/articles/employee');
      }).fail(function(response){
        console.log(response);
        $("#error").text("Something went wrong! Try again.");
      });
    });
  </script>
</html>
